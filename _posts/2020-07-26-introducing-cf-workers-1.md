---
layout: post
title: Cloudflare Workers ì†Œê°œ
description: Cloudflare Workers ì†Œê°œ
tags: [Cloud]
---

![Workers Logo](/assets/post_images/cloudflare_workers_logo.jpg)

ìµœê·¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ì¤‘ì‹¬ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê¸°ë²•ì´ ë³€í™”í•˜ë©´ì„œ,
FaaS (Function as a Service) ë°©ì‹ì˜ ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ…ì´ ê°ê´‘ì„ ë°›ê³  ìžˆìŠµë‹ˆë‹¤.

[AWS Lambda](https://aws.amazon.com/ko/lambda/), [Azure Functions](https://azure.microsoft.com/ko-kr/services/functions/), [Google Cloud Functions](https://cloud.google.com/functions) ë“± ëŒ€í‘œì ì¸ í´ë¼ìš°ë“œ í”Œëž«í¼ì—ì„œ
ëª¨ë‘ FaaS ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê³  ìžˆê³ ,
Google Cloudì˜ ê²½ìš°ëŠ” [Cloud Run](https://cloud.google.com/run?hl=ko)ì´ë¼ëŠ” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ í¥ë¯¸ë¡œìš´ ì†”ë£¨ì…˜ë„ ì œê³µí•©ë‹ˆë‹¤.

ì•„ë§ˆ FaaS ë°©ì‹ì˜ ì„œë¹„ìŠ¤ë¥¼ í”„ë¡œì íŠ¸ì— ë„ìž…í•˜ê³ ìž í•œë‹¤ë©´ ëŒ€ë¶€ë¶„ ìœ„ì˜ í”Œëž«í¼ë“¤ì„ ê³ ë ¤í•˜ì‹¤í…ë°ìš”.
ì´ ê¸€ì—ì„œëŠ” ê¸°ì¡´ì˜ í”Œëž«í¼ ëŒ€ì‹ , ë‹¤ì†Œ ë‚¯ì„  í”Œëž«í¼ì„ ì†Œê°œí•˜ë ¤ í•©ë‹ˆë‹¤.
ë°”ë¡œ CDN(Content delivery network) ì„œë¹„ìŠ¤ë¡œ ìœ ëª…í•œ Cloudflareì˜ [workers](https://workers.cloudflare.com/) ìž…ë‹ˆë‹¤.

## ðŸ·ï¸ Workersì˜ íŠ¹ì§•

FaaS í´ë¼ìš°ë“œ í”Œëž«í¼ì´ ì œê³µí•˜ëŠ”ê²Œ ë‹¤ ê³ ë§Œê³ ë§Œí•˜ì§€ ì•Šë‚˜,
í•˜ëŠ” ìƒê°ì´ ë“¤ ìˆ˜ ìžˆëŠ”ë° Workers ì´ ë…€ì„ì€ ê½¤ë‚˜ ë…íŠ¹í•©ë‹ˆë‹¤.

#### 1. V8 ì—”ì§„ ê¸°ë°˜ ëŸ°íƒ€ìž„

Cloudflare Workersì˜ ê°€ìž¥ í° íŠ¹ì§•ì€ [V8 ì—”ì§„ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ Workers ëŸ°íƒ€ìž„ì„ ì´ìš©í•˜ì—¬ ê° í•¨ìˆ˜ ë³„ë¡œ ë…ë¦½ëœ ìƒŒë“œë°•ìŠ¤ í™˜ê²½ì„ ì œê³µí•œë‹¤ëŠ” ê²ƒ](https://developers.cloudflare.com/workers/about/how-it-works/)ìž…ë‹ˆë‹¤. íƒ€ ì„œë¹„ìŠ¤ê°€ ê° í•¨ìˆ˜ë¥¼ VM ë˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•´ì„œ ê²©ë¦¬ëœ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ê²ƒê³¼ ëŒ€ë¹„ë˜ëŠ” ë¶€ë¶„ìž…ë‹ˆë‹¤.

![VM vs V8](https://developers.cloudflare.com/workers/about/media/isolates.png)

ì´ëŸ¬í•œ ë°©ì‹ì´ ì‚¬ìš©ìž ìž…ìž¥ì—ì„œ ì–´ë–¤ ì°¨ì´ë¥¼ ê°€ì ¸ì˜¤ë‚˜ ì‚´íŽ´ë³´ë©´, ê° í•¨ìˆ˜ê°€ ê°ê°ì˜ VM/ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ëŠ” íƒ€ ì„œë¹„ìŠ¤ì— ë¹„í•´ì„œ, WorkersëŠ” __ê°€ë²¼ìš´ V8 ì—”ì§„ ê¸°ë°˜ Workers ëŸ°íƒ€ìž„ + í•˜ë‚˜ì˜ ëŸ°íƒ€ìž„ì´ ìˆ˜ë§Žì€ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìžˆë‹¤__ ëŠ” ì  ë•ë¶„ì— ì´ˆê¸° ì‹¤í–‰ì†ë„ê°€ ì–´ë§ˆì–´ë§ˆí•˜ê²Œ ë¹¨ë¼ì§‘ë‹ˆë‹¤.

> _Workers processes are able to run essentially limitless scripts with almost no individual overhead by creating an isolate for each Workers function call._

<div style="text-align: center;">
	<span style="color:grey"><small>ì¶œì²˜: https://developers.cloudflare.com/workers/about/how-it-works/</small></span>
</div>
<br/>

ì¦‰, ë‹¤ì‹œ ë§í•˜ë©´ ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ…ì˜ ê³ ì§ˆì ì¸ ë¬¸ì œì¸ [Cold Start](https://mikhail.io/serverless/coldstarts/big3/)ê°€ Workersì—ì„œëŠ” íšê¸°ì ìœ¼ë¡œ ì¤„ì–´ë“­ë‹ˆë‹¤.

![Workers Logo](/assets/post_images/cloudflare_workers_cold_start.PNG)

Workers ì†Œê°œ íŽ˜ì´ì§€ì— ë”°ë¥´ë©´, Workersê°€ íƒ€ í”Œëž«í¼ ëŒ€ë¹„ 50ë°° ë¹ ë¥¸ Cold Start ë²¤ì¹˜ë§ˆí¬ë¥¼ ë³´ì˜€ë‹¤ê³  í•˜ë©°, ìœ ë£Œ í”Œëžœì—ì„œëŠ” 5ms ì´í•˜ì˜ Cold Start ì‹œê°„ì„ ë³´ìž¥í•œë‹¤ê³  í•©ë‹ˆë‹¤.

#### 2. ë¦¬ì „: ì§€êµ¬ ðŸŒŽ

![Workers Region](/assets/post_images/cloudflare_workers_region.PNG)

Cloudflare WorkersëŠ” íƒ€ í´ë¼ìš°ë“œ í”Œëž«í¼ì²˜ëŸ¼ íŠ¹ì • ë¦¬ì „ì„ ì •í•´ì„œ ì•±ì„ ë°°í¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ëŒ€ì‹  Cloudflareì˜ ë°©ëŒ€í•œ CDN ë„¤íŠ¸ì›Œí¬ë¥¼ í™œìš©í•˜ì—¬ ì „ ì„¸ê³„ì— ì•±ì´ ë°°í¬ë©ë‹ˆë‹¤.

ì¦‰, ì„¸ê³„ ì–´ë””ì—ì„œë‚˜ ì ì€ ë ˆì´í„´ì‹œë¡œ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

> __Note__: AWS lambdaì—ì„œë„ ìžì²´ CDN ì„œë¹„ìŠ¤ì¸ [Cloudfront](https://aws.amazon.com/ko/cloudfront/)ë¥¼ í™œìš©í•˜ì—¬,
ì „ ì„¸ê³„ì˜ ë¦¬ì „ì— ì•±ì„ ë°°í¬í•˜ëŠ”
[lambda@edge](https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html) ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
ê·¸ë ‡ì§€ë§Œ ì´ ê²½ìš° CloudFront ë¹„ìš©ì„ ì¶”ê°€ë¡œ ë¶€ë‹´í•´ì•¼ í•˜ê³ ,
ê¸°ë³¸ AWS Lambdaì— ë¹„í•´ì„œ ì–¸ì–´ ë“±ì˜ ì œì•½ì´ ìžˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ Workersì˜ íŠ¹ì§•ì„ ë” ìž˜ í™œìš©í•˜ê¸° ìœ„í•´ Cloudflareì—ì„œëŠ” ê¸€ë¡œë²Œ Key-Value ìŠ¤í† ë¦¬ì§€ì¸ [KV](https://developers.cloudflare.com/workers/reference/storage)ë„ í•¨ê»˜ ì œê³µí•©ë‹ˆë‹¤.

#### 3. "ë¬´ë£Œ"

![Workers Logo](/assets/post_images/cloudflare_workers_pricing.PNG)

Cloudflare WorkersëŠ” ì´ ê¸€ì„ ìž‘ì„±í•˜ëŠ” 2020ë…„ 7ì›” ê¸°ì¤€, ì¼ê°„ ì‹­ë§Œ íšŒì˜ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œ ë¬´ë£Œ í”Œëžœì„ ì œê³µí•©ë‹ˆë‹¤.

AWS Lambdaë‚˜ Azure Functionsì˜ ê°€ê²©í‘œë¥¼ ë³´ì‹  ë¶„ì´ë¼ë©´, _"ë‹¤ë¥¸ ê³³ë„ í•œ ë‹¬ì— ë¦¬í€˜ìŠ¤íŠ¸ ë°±ë§Œë²ˆê¹Œì§€ ë¬´ë£Œë˜ë°?"_ ë¼ê³  ìƒê°í•˜ì‹¤ ìˆ˜ë„ ìžˆëŠ”ë°ìš”.

íƒ€ í”Œëž«í¼ì€ ë¦¬í€˜ìŠ¤íŠ¸ ë¹„ìš©ê³¼ëŠ” ë³„ë„ë¡œ ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí¬ ë¹„ìš©ì´ ë¶€ê³¼ë˜ê¸° ë•Œë¬¸ì—,
ë¬´ë£Œê² ì§€? í•˜ê³ ì„œ ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì—ˆë‹¤ê°€ ì†Œì†Œí•œ ë¹„ìš© ì²­êµ¬ë¥¼ ë‹¹í•˜ëŠ” ê²½ìš°ê°€ ìžˆìŠµë‹ˆë‹¤.

ê·¸ì— ë¹„í•´ WorkersëŠ” ë¬´ë£Œ í”Œëžœì—ì„œëŠ” ì²­êµ¬ë˜ëŠ” ë¹„ìš©ì´ ì•„ì˜ˆ ì—†ì–´ì„œ (ì‹ ìš©ì¹´ë“œ ì •ë³´ë¥¼ ìž…ë ¥í•˜ì§€ë„ ì•ŠìŠµë‹ˆë‹¤),
ê°„ë‹¨í•œ í† ì´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ë¶€ë‹´ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## ðŸ‘Ž ë‹¨ì 

ë¬¼ë¡  ìž¥ì ì´ ìžˆëŠ”ë§Œí¼ Workersì˜ ë‹¨ì ë„ ìžˆìŠµë‹ˆë‹¤.

#### 1. ì œí•œëœ ì–¸ì–´ ì§€ì›

WorkersëŠ” ìžë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì¸ V8ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” íŠ¹ì„±ìƒ ê·¼ë³¸ì ìœ¼ë¡œ ê°œë°œ ì–¸ì–´ê°€ ì œí•œë©ë‹ˆë‹¤.

ìžë°”ìŠ¤í¬ë¦½íŠ¸ë‚˜ ìžë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í™˜ì´ ê°€ëŠ¥í•œ íƒ€ìž…ìŠ¤í¬ë¦½íŠ¸ ì •ë„ë§Œ ì‰½ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë©°,
[WebAssembly](https://webassembly.org/)ë¡œ ì»´íŒŒì¼ì´ ê°€ëŠ¥í•œ C, C++, Rustë¥¼ ë¶ˆì™„ì „í•˜ê²Œ ì§€ì›í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ íŒŒì´ì¬, C#, ìžë°” ë“± ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ëŠ” íƒ€ FaaS í”Œëž«í¼ì— ë¹„í•´ ê°œë°œ ë° í¬íŒ…ì— ì• ë¡œì‚¬í•­ì´ ìžˆìŠµë‹ˆë‹¤.  

ë‚˜ëŠ” ìžë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë„ˆë¬´ ì‹«ì–´! ê°™ì€ ìƒê°ì„ ê°€ì§„ ë¶„ë“¤ì´ë¼ë©´ WebAssemblyì˜ ë°œì „ì— í¬ë§ì„ ê±¸ì–´ë´ì•¼ í•  ê²ƒ ê°™ë„¤ìš”.

#### 2. íƒ€ ì„œë¹„ìŠ¤ê°„ì˜ ì—°ê³„ì„±

AWS ê°™ì€ ëŒ€í˜• í´ë¼ìš°ë“œ í”Œëž«í¼ë“¤ì€ [ì¼ì¼ì´ ë‚˜ì—´í•˜ëŠ” ê²Œ ì–´ë ¤ìš¸ ì •ë„ë¡œ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤](https://adayinthelifeof.nl/2020/05/20/aws.html)ë¥¼ ì œê³µí•˜ê³  ìžˆê³ ,
ì´ëŸ¬í•œ ì„œë¹„ìŠ¤ë¥¼ ì„œë¡œ ê°„ì— ìž˜ ì—°ê³„í•´ì„œ í™œìš©í•œë‹¤ë©´ íš¨ìœ¨ì ìœ¼ë¡œ í•œ í”Œëž«í¼ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ Cloudflareì—ì„œ ì œê³µí•˜ëŠ” í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ëŠ” Workersì™€ ê¸€ë¡œë²Œ ìŠ¤í† ë¦¬ì§€ì¸ KV ì •ë„ë¡œ,
ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ Workersë¥¼ ì—°ê³„í•˜ì—¬ ì•±ì„ ê°œë°œí•˜ê³ ìž í•œë‹¤ë©´ ê²°êµ­ íƒ€ í´ë¼ìš°ë“œ í”Œëž«í¼ì„ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

## ê²°ë¡ 

Cloudflare WorkersëŠ” íƒ€ í´ë¼ìš°ë“œ í”Œëž«í¼ì˜ FaaS í”Œëž«í¼ê³¼ëŠ” ì°¨ë³„í™”ë˜ëŠ” ìƒë‹¹ížˆ ë…íŠ¹í•œ ë¬¼ê±´ìž…ë‹ˆë‹¤.

Cloudflareì—ì„œ ì´ë²ˆì— ëŸ°ì¹­í•œ [Cloudflare TV](https://cloudflare.tv/live)ì—ì„œë„ Workersë¥¼ ë„ê·¸í‘¸ë”©í•˜ê³  ìžˆë‹¤ê³  ë°ížŒë§Œí¼,
Cloudflare ì¸¡ì—ì„œë„ ì§€ì†ì ìœ¼ë¡œ Workersë¥¼ ë°œì „ì‹œí‚¬ ì•¼ì‹¬ì°¬ ê³„íšì„ ê°€ì§€ê³  ìžˆì§€ ì•Šì„ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.

ìƒˆë¡œìš´ ì„œë²„ë¦¬ìŠ¤ ì•±ì„ ê°œë°œí•˜ê³ ìž í•˜ëŠ” ê³„íšì´ ìžˆë‹¤ë©´ í•œë²ˆì¯¤ Workers ì‚¬ìš©ì„ ê³ ë ¤í•´ë³´ì‹œëŠ” ê²ƒë„ ì¢‹ì„ ë“¯ í•©ë‹ˆë‹¤.

ì´ì–´ì§€ëŠ” ê¸€ì—ì„œëŠ” Workersë¥¼ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•œ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

> ë‹¤ìŒ ê¸€ - [Cloudflare Workersë¡œ ì„œë²„ë¦¬ìŠ¤ ì•± ê°œë°œí•˜ê¸°]({% link _posts/2020-07-26-introducing-cf-workers-2.md %})

### References

> https://blog.cloudflare.com/cloud-computing-without-containers/

> https://mikhail.io/2018/08/serverless-cold-start-war/

> https://www.cloudflare.com/learning/serverless/serverless-performance/
